<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>VS Code Meet</title>
<style>
  :root { --bg: var(--vscode-editor-background); --fg: var(--vscode-foreground); --muted: var(--vscode-descriptionForeground); --panel-border: var(--vscode-panel-border); --btn-bg: var(--vscode-button-background); --btn-fg: var(--vscode-button-foreground); --btn-hover: var(--vscode-button-hoverBackground); }
  html,body{margin:0;padding:0;height:100%;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial;}
  .header{padding:12px 16px;display:flex;gap:10px;background:rgba(0,0,0,0.25);border-bottom:1px solid var(--panel-border);align-items:center;}
  .header input{background:#222;border:1px solid #444;padding:7px 10px;color:var(--fg);border-radius:6px;}
  .header button{padding:7px 14px;background:var(--btn-bg);color:var(--btn-fg);border:none;border-radius:6px;cursor:pointer;font-size:13px;font-weight:500;}
  .main{display:flex;height:calc(100vh - 70px);overflow:hidden;}
  .left-panel{flex:1;padding:16px;overflow-y:auto;}
  .right-panel{width:320px;padding:16px;border-left:1px solid var(--panel-border);background:#181818;}
  .card{background:#202020;padding:14px;border-radius:8px;border:1px solid var(--panel-border);margin-bottom:16px;}
  #videoGrid{display:grid;gap:12px;grid-template-columns:repeat(1,1fr);}
  .tile{background:#111;border-radius:10px;overflow:hidden;aspect-ratio:16/9;position:relative;display:flex;align-items:center;justify-content:center;border:1px solid #333;}
</style>
</head>
<body>
  <div class="header">
      <input id="nameInput" placeholder="Your name" style="width:150px;">
      <input id="roomInput" placeholder="Room code…" style="width:150px;">
      <button id="createRoomBtn">Create</button>
      <button id="joinRoomBtn">Join</button>
      <div style="flex:1"></div>
      <button id="turnOnCamBtn">Camera On</button>
      <button id="turnOffCamBtn">Camera Off</button>
      <button id="startRecBtn">Start Recording</button>
      <button id="stopRecBtn" disabled>Stop</button>
  </div>

  <div class="main">
      <div class="left-panel">
          <div class="card">
              <h3>Participants</h3>
              <div id="videoGrid"></div>
          </div>
      </div>
      <div class="right-panel">
          <div class="card">
              <h3>System Status</h3>
              <div>FFmpeg: <span id="ffmpegStatus">Checking…</span></div>
          </div>
          <div class="card">
              <h3>Information</h3>
              <p style="font-size:13px;color:var(--muted);">
                This panel provides real-time audio/video collaboration.<br><br>
                Use <b>Camera On</b> to start preview, <b>Create/Join</b> to enter a room.<br>
                Recording saves automatically in your workspace.
              </p>
          </div>
      </div>
  </div>

  <!-- external socket.io client loaded from signaling server; left unchanged -->
  <script src="${SIGNALING_SERVER}/socket.io/socket.io.js"></script>
  <!-- extension will replace MEET_JS_URI with a webview URI that points to media/meet.js -->
  <script src="MEET_JS_URI"></script>
</body>
</html>
